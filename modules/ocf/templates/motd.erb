<%
def colorize(start_num, end_num, text)
    "\e[#{start_num}m#{text}\e[#{end_num}m"
end


def bold(text)
    colorize(1, 22, text)
end


def yellow(text)
    colorize(33, 39, text)
end

def motd_line(text)
    ([*text].sort.join(', ') + "\n") if text
end

def info_line(prefix, info)
    "  - #{prefix}: #{bold(yellow(motd_line(info)))}" if info
end
-%>
<% full_type = (@is_virtual ? 'virtual ' : 'physical ') + @type -%>
<%= bold("Hi, I am #{yellow(hostname)}, a #{yellow(full_type)} at #{yellow(@ipaddress)}.") %>
<%= motd_line(@description) -%>
<%= info_line('Puppet classes',     @puppetClass) -%>
<%= info_line('Puppet environment', @environment) if @environment != 'production' -%>
<%= info_line('Owner',              @owner) -%>
<%= info_line('DNS A names',        @dnsA) -%>
<%= info_line('DNS C names',        @dnsCname) -%>
